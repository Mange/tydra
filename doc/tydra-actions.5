.\" Automatically generated by Pandoc 2.9.2
.\"
.TH "TYDRA-ACTIONS" "5" "March 2020" "" "Version 1.0.0"
.hy
.SH NAME
.PP
tydra-actions \[en] Tydra action file reference.
.SH SYNOPSIS
.PP
Tydra action files are stored in YAML files.
It is recommended that you read up on YAML so you understand the syntax,
such as \[lq]Learn YAML in five
minutes (https://www.codeproject.com/Articles/1214409/Learn-YAML-in-five-minutes)\[rq].
.PP
Particular areas that might give you issues unless you understand them
include:
.IP \[bu] 2
Some strings needing quotes, while others do not.
.IP \[bu] 2
Lists of maps and indentation rules for them.
.PP
The main outline of the file can be illustrated using this small
example:
.IP
.nf
\f[C]
global:
  layout: columns
pages:
  root:
    groups:
      - entries:
          - shortcut: a
            title: Print a
            command: echo a
\f[R]
.fi
.TP
\f[B]global\f[R] (optional)
See \f[B]GLOBAL SETTINGS\f[R] below.
.TP
\f[B]pages\f[R] (required)
A map of pages, where the name of the page is the key and the value is
the page specification.
See \f[B]PAGE\f[R] below.
.SS GLOBAL SETTINGS
.PP
The global settings allows you to set configuration that applies by
default to pages / groups / entries.
You don\[cq]t need to provide any settings if you don\[cq]t want to.
.TP
\f[B]layout\f[R] (optional)
Sets the default layout for pages that don\[cq]t override it.
Allowed values are \f[I]columns\f[R] and \f[I]list\f[R].
.TP
\f[B]shortcut_color\f[R] (optional)
Sets the color to use when rendering the shortcut key.
Allowed values are \f[I]reset\f[R], \f[I]black\f[R], \f[I]blue\f[R],
\f[I]cyan\f[R], \f[I]green\f[R], \f[I]magenta\f[R], \f[I]red\f[R],
\f[I]white\f[R], and \f[I]yellow\f[R].
.SS PAGE
.PP
Pages contains groups of entries (see \f[B]GROUP\f[R]) and some
additional settings and texts.
The groups will be rendered in the \f[I]layout\f[R] set in the settings.
.TP
\f[B]title\f[R] (optional)
The title of the page.
.TP
\f[B]header\f[R] (optional)
Introduction text before showing the entries.
You could explain the page here.
.TP
\f[B]footer\f[R] (optional)
Text after showing the entries.
You could place notices or some other information about the page here.
.TP
\f[B]settings\f[R] (optional)
The same collection of settings that are inside the \f[B]GLOBAL
SETTINGS\f[R], only here they only apply to the current page instead.
If this is not provided, then the global settings will be used as-is.
.TP
\f[B]groups\f[R] (required)
A list of groups.
See \f[B]GROUPS\f[R].
.SS GROUPS
.PP
Groups is a single grouping of menu entries (see \f[B]ENTRY\f[R]) along
with some additional metadata and settings.
.TP
\f[B]title\f[R] (optional)
The title of this group.
.TP
\f[B]settings\f[R] (optional)
The same settings as \f[B]GLOBAL SETTINGS\f[R], but only the settings
that affect entries will be taken into account.
Settings not provided here will be inherited from the parent
\f[B]page\f[R], then the global settings.
.TP
\f[B]entries\f[R] (required)
A list of entries that should be inside this group.
See \f[B]ENTRY\f[R].
.SS ENTRY
.PP
Entries are the thing that you select in menus.
They have a lot of things to customize.
.TP
\f[B]title\f[R] (required)
The title of the entry.
This is the text that you\[cq]ll see on the screen.
.TP
\f[B]shortcut\f[R] (required)
A single character that will be used to trigger this entry.
For example \f[I]a\f[R] would mean that the entry is selected by
pressing \f[I]a\f[R] on your keyboard.
Shortcuts must be unique for a single \f[B]page\f[R] or else you will
get a validation error.
.TP
\f[B]command\f[R] (optional)
The command to execute when triggering this entry.
It is optional because sometimes you want entries to navigate to
different pages, and in those cases you do not need a command.
See \f[B]return\f[R].
Commands can be given in two formats.
Either as a single string, which means that it will be run as a
shell-script to \f[I]/bin/sh\f[R], or as a structure with a
\f[I]name\f[R] and \f[I]args\f[R] key.
.IP
.nf
\f[C]
command: xdg-open https://example.net

command: |
  if [[ -f \[ti]/.local/bookmarks.html ]]; then
    xdg-open \[ti]/.local/bookmarks.html
  fi

command:
  name: xdg-open
  args:
    - \[dq]https://example.net\[dq]
\f[R]
.fi
.TP
\f[B]shortcut_color\f[R] (optional)
Sets the color for the shortcut character when shown to the user.
Will be taken from the \f[B]settings\f[R] in the parent \f[B]GROUP\f[R],
then \f[B]PAGE\f[R], and lastly the \f[B]GLOBAL SETTING\f[R] if not
provided before then.
See \f[B]GLOBAL SETTINGS\f[R] for a complete list of supported colors.
.TP
\f[B]mode\f[R] (optional)
Instructs tydra on how to run the command.
Supported values are \f[I]normal\f[R], \f[I]wait\f[R], \f[I]exec\f[R]
and \f[I]background\f[R].
.TP
\f[I]normal\f[R] (default)
This mode pauses tydra and runs the \f[B]command\f[R] in your normal
terminal screen.
.TP
\f[I]wait\f[R]
This is identical to \f[I]normal\f[R], but waits for the user to press
\f[I]enter\f[R] before continuing after the command has finished.
This is useful for entries that are meant to resume tydra after being
run (see \f[B]return\f[R]) where the user want to see the output before
continuing.
.TP
\f[I]exec\f[R]
This mode replaces tydra with the new command.
This is great if you don\[cq]t want to resume tydra after the command
(see \f[B]return\f[R]) or if the process is long-running as
\f[I]exec\f[R] prevents tydra from being the process parent.
.TP
\f[I]background\f[R]
Runs the command in the background, disconnected from tydra.
Depending on \f[B]return\f[R] tydra either resumes immediately, or exits
immediately.
This is great for spawning GUI applications, or to run commands that do
not require feedback (like increasing volume).
.TP
\f[B]return\f[R] (optional)
Sets the return mode of the entry.
Allowed values are \f[I]false\f[R], \f[I]true\f[R], or the name of
another page.
Note that when (or if at all) tydra returns depend on the \f[B]mode\f[R]
of the entry; if you \f[I]exec\f[R] the command tydra cannot return
after it.
If you run the command in \f[I]background\f[R], then this return action
will be taken immediately, but both \f[I]normal\f[R] and \f[I]wait\f[R]
will only perform it after the command finishes.
If tydra does not run with the \f[B]--ignore-exit-status\f[R] option,
then a failing command will also exit tydra.
This is to help you find bugs in your scripts.
.TP
\f[I]true\f[R]
Return to the same page again after the command runs.
.TP
\f[I]false\f[R]
Exit tydra after the command runs.
.TP
\f[I]Another page\[cq]s name\f[R]
Return to this page after the command runs.
If the page name cannot be found in the action file, you will get a
validation error.
.SH EXAMPLES
.PP
Examples are not currently provided.
.SH AUTHORS
Magnus Bergmark <magnus.bergmark@gmail.com>.
